!function(){"use strict";class e{popup;timeout=0;showOnLeave=!1;delay=!1;constructor(e){this.popup=e,this.timeout=parseInt(this.popup.dataset.timeout||"0"),this.showOnLeave=void 0!==this.popup.dataset.showOnLeave,"delay"in this.popup.dataset&&(this.delay=parseInt(this.popup.dataset.delay||"0")),this.popup.addEventListener("close",this.onClose),this.showOnLeave?this.showOnMouseLeave():!1!==this.delay&&this.showAfterDelay()}showAfterDelay(){this.isTimeoutActive()||(this.showModal(this.delay),this.setTimeout())}showOnMouseLeave(){const e=t=>{this.isTimeoutActive()||t.clientY<10&&(document.removeEventListener("mouseleave",e),this.showModal(),this.setTimeout())},t=()=>document.addEventListener("mouseleave",e);!1!==this.delay?setTimeout(t,this.delay):t()}setTimeout(){localStorage.setItem(this.popup.id,Date.now().toString())}isTimeoutActive(){const e=localStorage.getItem(this.popup.id);return!!e&&(!(Date.now()>parseInt(e)+this.timeout)||(localStorage.removeItem(this.popup.id),!1))}showModal(e=!1){const t=()=>{this.popup.showModal(),document.documentElement.classList.add("easy-popup-open")};!1!==e?setTimeout(t,e):t()}onClose(){document.documentElement.classList.remove("easy-popup-open")}}document.addEventListener("DOMContentLoaded",(()=>{!function(){const t=document.querySelectorAll('dialog[id^="easy-popup-"]'),s=new Map;t.forEach((t=>s.set("#"+t.id,new e(t)))),window.addEventListener("click",(e=>{let t=null;if(e.target instanceof HTMLAnchorElement)t=e.target.hash;else{if(!(e.target instanceof HTMLElement))return;{const s=e.target.closest('a[href^="#easy-popup-"]');s instanceof HTMLAnchorElement&&(t=s.hash)}}s.has(t)&&(e.preventDefault(),s.get(t).showModal())}))}()}))}();
